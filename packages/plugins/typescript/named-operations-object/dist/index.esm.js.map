{"version":3,"file":"index.esm.js","sources":["../../../dist/plugins/typescript/named-operations-object/src/index.js"],"sourcesContent":["import { concatAST, visit } from 'graphql';\nimport { capitalCase } from 'change-case';\nexport const plugin = (schema, documents, config) => {\n    const identifierName = config.identifierName || 'namedOperations';\n    const allAst = concatAST(documents.map(v => v.document));\n    const allOperationsNames = {\n        query: new Set(),\n        mutation: new Set(),\n        subscription: new Set(),\n        fragment: new Set(),\n    };\n    visit(allAst, {\n        enter: {\n            OperationDefinition: node => {\n                var _a;\n                if ((_a = node.name) === null || _a === void 0 ? void 0 : _a.value) {\n                    allOperationsNames[node.operation].add(node.name.value);\n                }\n            },\n            FragmentDefinition: node => {\n                allOperationsNames.fragment.add(node.name.value);\n            },\n        },\n    });\n    const objectItems = Object.keys(allOperationsNames)\n        .map(operationType => {\n        const relevantOperations = allOperationsNames[operationType];\n        if (relevantOperations && relevantOperations.size > 0) {\n            const rootFieldName = capitalCase(operationType);\n            return `  ${rootFieldName}: {\n${Array.from(relevantOperations)\n                .map(t => `    ${t}: '${t}'`)\n                .join(',\\n')}\n  }`;\n        }\n        return null;\n    })\n        .filter(Boolean);\n    if (objectItems.length === 0) {\n        // eslint-disable-next-line no-console\n        console.warn(`Plugin \"named-operations-object\" has an empty output, since there are no valid operations!`);\n        return '';\n    }\n    return `export const ${identifierName} = {\n${objectItems.join(',\\n')}\n}`;\n};\n//# sourceMappingURL=index.js.map"],"names":[],"mappings":";;;AAEY,MAAC,MAAM,GAAG,CAAC,MAAM,EAAE,SAAS,EAAE,MAAM,KAAK;AACrD,IAAI,MAAM,cAAc,GAAG,MAAM,CAAC,cAAc,IAAI,iBAAiB,CAAC;AACtE,IAAI,MAAM,MAAM,GAAG,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;AAC7D,IAAI,MAAM,kBAAkB,GAAG;AAC/B,QAAQ,KAAK,EAAE,IAAI,GAAG,EAAE;AACxB,QAAQ,QAAQ,EAAE,IAAI,GAAG,EAAE;AAC3B,QAAQ,YAAY,EAAE,IAAI,GAAG,EAAE;AAC/B,QAAQ,QAAQ,EAAE,IAAI,GAAG,EAAE;AAC3B,KAAK,CAAC;AACN,IAAI,KAAK,CAAC,MAAM,EAAE;AAClB,QAAQ,KAAK,EAAE;AACf,YAAY,mBAAmB,EAAE,IAAI,IAAI;AACzC,gBAAgB,IAAI,EAAE,CAAC;AACvB,gBAAgB,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,KAAK,EAAE;AACpF,oBAAoB,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC5E,iBAAiB;AACjB,aAAa;AACb,YAAY,kBAAkB,EAAE,IAAI,IAAI;AACxC,gBAAgB,kBAAkB,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACjE,aAAa;AACb,SAAS;AACT,KAAK,CAAC,CAAC;AACP,IAAI,MAAM,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC;AACvD,SAAS,GAAG,CAAC,aAAa,IAAI;AAC9B,QAAQ,MAAM,kBAAkB,GAAG,kBAAkB,CAAC,aAAa,CAAC,CAAC;AACrE,QAAQ,IAAI,kBAAkB,IAAI,kBAAkB,CAAC,IAAI,GAAG,CAAC,EAAE;AAC/D,YAAY,MAAM,aAAa,GAAG,WAAW,CAAC,aAAa,CAAC,CAAC;AAC7D,YAAY,OAAO,CAAC,EAAE,EAAE,aAAa,CAAC;AACtC,EAAE,KAAK,CAAC,IAAI,CAAC,kBAAkB,CAAC;AAChC,iBAAiB,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,iBAAiB,IAAI,CAAC,KAAK,CAAC,CAAC;AAC7B,GAAG,CAAC,CAAC;AACL,SAAS;AACT,QAAQ,OAAO,IAAI,CAAC;AACpB,KAAK,CAAC;AACN,SAAS,MAAM,CAAC,OAAO,CAAC,CAAC;AACzB,IAAI,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;AAClC;AACA,QAAQ,OAAO,CAAC,IAAI,CAAC,CAAC,0FAA0F,CAAC,CAAC,CAAC;AACnH,QAAQ,OAAO,EAAE,CAAC;AAClB,KAAK;AACL,IAAI,OAAO,CAAC,aAAa,EAAE,cAAc,CAAC;AAC1C,EAAE,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC1B,CAAC,CAAC,CAAC;AACH;;;;"}